<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Incoming funds â€¢ 3dvr Finance</title>
  <link rel="stylesheet" href="./styles.css">
  <script src="https://cdn.jsdelivr.net/npm/gun/gun.js"></script>
  <script src="/gun-init.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/gun/sea.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/gun/axe.js"></script>
  <script src="../score.js"></script>
</head>
<body class="finance-body" data-ledger-view="incoming" data-entry-direction="incoming">
  <a href="#page-main" class="finance-skip-link">Skip to finance content</a>
  <nav class="finance-nav" aria-label="Portal navigation">
    <a class="finance-nav__link" href="./index.html">Finance overview</a>
    <a class="finance-nav__link" href="./stripe.html">Stripe</a>
    <a class="finance-nav__link" href="./outgoing.html">Outgoing</a>
    <a class="finance-nav__link" href="./ethereum.html">Ethereum</a>
  </nav>
  <main id="page-main" class="finance-shell" aria-labelledby="page-title">
    <header class="finance-hero">
      <p class="finance-hero__eyebrow">Incoming workspace</p>
      <h1 id="page-title" class="finance-hero__title">Incoming payments</h1>
      <p class="finance-hero__lead">
        Log reimbursements, customer remittances, and credits flowing into the team, synced to the shared Gun finance graph.
      </p>
    </header>

    <section class="finance-layout" aria-labelledby="incoming-summary-title">
      <div class="finance-card finance-card--metrics" id="finance-summary">
        <h2 id="incoming-summary-title" class="finance-card__title">Incoming overview</h2>
        <dl class="finance-summary__grid">
          <div class="finance-summary__stat">
            <dt>Total logged</dt>
            <dd id="total-amount">$0.00</dd>
          </div>
          <div class="finance-summary__stat">
            <dt>Latest entry</dt>
            <dd id="latest-entry">No entries yet</dd>
          </div>
        </dl>
      </div>

      <div class="finance-card finance-card--form" aria-labelledby="incoming-form-title">
        <div class="finance-card__header">
          <h2 id="incoming-form-title" class="finance-card__title">Log incoming payment</h2>
          <p class="finance-card__subhead">Synced with Gun</p>
        </div>
        <form id="expenditure-form" class="finance-form" autocomplete="off" novalidate>
          <input type="hidden" id="entry-direction" name="entryDirection" value="incoming">
          <div class="finance-form__grid">
            <label class="finance-field">
              <span class="finance-field__label">Amount (USD)</span>
              <input id="amount" name="amount" type="number" step="0.01" min="0" inputmode="decimal" required>
            </label>
            <label class="finance-field">
              <span class="finance-field__label">Date</span>
              <input id="date" name="date" type="date" required>
            </label>
            <label class="finance-field">
              <span class="finance-field__label">Category</span>
              <input id="category" name="category" type="text" placeholder="Refund, reimbursement, client" required>
            </label>
            <label class="finance-field">
              <span class="finance-field__label">Payment source</span>
              <input id="payment-method" name="paymentMethod" type="text" placeholder="Bank transfer, card, credit" required>
            </label>
          </div>
          <label class="finance-field">
            <span class="finance-field__label">Notes</span>
            <textarea id="notes" name="notes" rows="3" placeholder="Context, invoice, or shared collaborators"></textarea>
          </label>
          <button type="submit" class="finance-button">Log incoming payment</button>
        </form>
      </div>
    </section>

    <section class="finance-card finance-card--ledger" aria-labelledby="incoming-ledger-title">
      <div class="finance-card__header">
        <h2 id="incoming-ledger-title" class="finance-card__title">Incoming ledger</h2>
        <span class="finance-card__subhead">Live feed</span>
      </div>
      <div id="finance-ledger" class="finance-ledger" role="list">
        <p id="finance-empty" class="finance-ledger__empty">No incoming payments yet. Add your first entry above.</p>
      </div>
    </section>
  </main>

  <script src="./app.js"></script>
</body>
</html>
